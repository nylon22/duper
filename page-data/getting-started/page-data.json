{"componentChunkName":"component---node-modules-gatsby-theme-apollo-docs-src-components-template-js","path":"/getting-started/","result":{"data":{"site":{"pathPrefix":"/docs","siteMetadata":{"title":"duper Docs","description":"A command line tool that makes administering Elasticsearch Cross-cluster Replication easy"}},"file":{"childMarkdownRemark":{"frontmatter":{"title":"Getting Started","description":null},"headings":[{"value":"Troubleshooting"},{"value":"Additional Information"}],"fields":{"image":"social-cards/getting-started.png","graphManagerUrl":""},"htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This tutorial assumes you already have Elasticsearch installed. If not, see "},{"type":"element","tagName":"a","properties":{"href":"https://www.elastic.co/downloads/elasticsearch"},"children":[{"type":"text","value":"https://www.elastic.co/downloads/elasticsearch"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let's say we have two clusters running on our local machine: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"us-cluster"}]},{"type":"text","value":", which runs on port "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"9200"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"japan-cluster"}]},{"type":"text","value":", which runs on port "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"8200"}]},{"type":"text","value":". We want to replicate the documents in the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"products"}]},{"type":"text","value":" index on the US cluster (the leader cluster) to the Japan Cluster (the follower cluster)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Note"}]},{"type":"text","value":" Soft deletes must be enabled on the index for it to serve as a leader index. Soft deletes can only be configured at index creation. Soft deletes are enabled by default. Make sure you didn't disable them when you created your index!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Add the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"us-cluster"}]},{"type":"text","value":" to your duper configuration"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-sh","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"duper config add-cluster --name us-cluster --url http://localhost:9200 --role leader"}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":2},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Add the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"japan-cluster"}]},{"type":"text","value":" to your duper configuration"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-sh","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"duper config add-cluster --name japan-cluster --url http://localhost:8200 --role follower"}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":3},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Set up connectivity between your follower cluster and your leader cluster"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-sh","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"duper connect --seeds \"127.0.0.1:9300\""}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Note"}]},{"type":"text","value":" You might notice we use port "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"9300"}]},{"type":"text","value":". That is the default port used for node-to-node communication."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":4},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Replicate the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"products"}]},{"type":"text","value":" index on your leader cluster to the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"products-copy"}]},{"type":"text","value":" index on your follower cluster"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-sh","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"duper follow --follower_index products-copy --leader_index products"}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":5},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Create a document in the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"products"}]},{"type":"text","value":" index"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-sh","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"curl -XPUT http://localhost:9200/products/_doc/1 -H \"Content-Type: application/json\" -d '{ \"name\": \"iPhone\" }"}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":6},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"It's automatically copied over to the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"products-copy"}]},{"type":"text","value":" index!"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-sh","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":" curl http://localhost:8200/products-copy/_search\\?pretty\\=true\n{\n  \"took\" : 2,\n  \"timed_out\" : false,\n  \"_shards\" : {\n    \"total\" : 1,\n    \"successful\" : 1,\n    \"skipped\" : 0,\n    \"failed\" : 0\n  },\n  \"hits\" : {\n    \"total\" : {\n      \"value\" : 1,\n      \"relation\" : \"eq\"\n    },\n    \"max_score\" : 1.0,\n    \"hits\" : [\n      {\n        \"_index\" : \"products-copy\",\n        \"_type\" : \"_doc\",\n        \"_id\" : \"1\",\n        \"_score\" : 1.0,\n        \"_source\" : {\n          \"name\" : \"iPhone\"\n        }\n      }\n    ]\n  }\n}"}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"troubleshooting","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#troubleshooting","ariaLabel":"troubleshooting permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Troubleshooting"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"X-pack is required for CCR. To start your trial license:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-sh","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"curl -XPOST http://localhost:9200/_xpack/license/start_trial\\?acknowledge\\=true"}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"additional-information","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#additional-information","ariaLabel":"additional information permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Additional Information"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"configuration-files","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#configuration-files","ariaLabel":"configuration files permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Configuration Files"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"elasticsearch.yml"}]},{"type":"text","value":" used for the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"us-cluster"}]},{"type":"text","value":" for this tutorial:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yml"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-yml","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"cluster.name"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" us"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"cluster\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"path.data"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" /usr/local/var/lib/elasticsearch/us"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"cluster\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"path.logs"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" /usr/local/var/log/elasticsearch/us"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"cluster\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"http.port"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"9200"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"xpack.security.enabled"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean","important"]},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"elasticsearch.yml"}]},{"type":"text","value":" used for the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"japan-cluster"}]},{"type":"text","value":" for this tutorial:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yml"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-yml","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"cluster.name"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" japan"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"cluster\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"path.data"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" /usr/local/var/lib/elasticsearch/japan"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"cluster\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"path.logs"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" /usr/local/var/log/elasticsearch/japan"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":"cluster\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"http.port"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"8200"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"xpack.security.enabled"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean","important"]},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"command-used-to-create-the-products-index","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#command-used-to-create-the-products-index","ariaLabel":"command used to create the products index permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Command Used to Create the Products Index"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"sh"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-sh","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-sh"]},"children":[{"type":"text","value":"curl -XPUT http://localhost:9200/products -H \"Content-Type: application/json\" -d '\n{\n  \"settings\": {\n    \"index\": {\n      \"number_of_shards\": 1,\n      \"number_of_replicas\": 0\n    }\n  },\n  \"mappings\": {\n    \"properties\": {\n      \"name\": {\n        \"type\": \"text\"\n      }\n    }\n  }\n}\n'"}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For more on how to create an Elasticsearch index, see: "},{"type":"element","tagName":"a","properties":{"href":"https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-create-index.html"},"children":[{"type":"text","value":"https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-create-index.html"}]}]}],"data":{"quirksMode":false}}},"childMdx":null}},"pageContext":{"id":"7ce26ca0-32f5-5d0b-a6e3-78f62a42192b","subtitle":"duper documentation","versionDifference":0,"versionBasePath":"/v0.4","sidebarContents":[{"title":null,"pages":[{"title":"About","sidebarTitle":"","description":null,"path":"/"},{"title":"Getting Started","sidebarTitle":"","description":null,"path":"/getting-started/"}]},{"title":"Configuration Commands","pages":[{"title":"Add Cluster Configuration","sidebarTitle":"","description":"Add a new Elasticsearch cluster to your duper configuration","path":"/commands/config-add-cluster/"},{"title":"Delete Cluster Configuration","sidebarTitle":"","description":"Delete an Elasticsearch cluster from your duper configuration","path":"/commands/config-delete-cluster/"},{"title":"List Configuration","sidebarTitle":"","description":"See your duper configuration","path":"/commands/config-list/"},{"title":"Set Follower Cluster","sidebarTitle":"","description":"Set your follower cluster","path":"/commands/config-set-follower-cluster/"},{"title":"Set Leader Cluster","sidebarTitle":"","description":"Set your leader cluster","path":"/commands/config-set-leader-cluster/"}]},{"title":"Enable CCR Commands","pages":[{"title":"Connect","sidebarTitle":"","description":"Enable connectivity between your follower cluster and your leader cluster","path":"/commands/connect/"}]},{"title":"Open/Close Index Commands","pages":[{"title":"Open","sidebarTitle":"","description":"Open an index","path":"/commands/open/"},{"title":"Close","sidebarTitle":"","description":"Close an index","path":"/commands/close/"}]},{"title":"CCR Commands","pages":[{"title":"Follow","sidebarTitle":"","description":"Create a new follower index on your follower cluster that is configured to follow the referenced leader index. After running this command, the follower index exists, and cross-cluster replication starts replicating operations from the leader index to the follower index.","path":"/commands/follow/"},{"title":"Forget","sidebarTitle":"","description":"A following index takes out retention leases on its leader index. These retention leases are used to increase the likelihood that the shards of the leader index retain the history of operations that the shards of the following index need to execute replication. When a follower index is converted to a regular index via the unfollow command (either via explicit execution of this command, or implicitly via index lifecycle management), these retention leases are removed. However, removing these retention leases can fail (e.g., if your leader cluster containing the leader index is unavailable). While these retention leases will eventually expire on their own, their extended existence can cause the leader index to hold more history than necessary, and prevent index lifecycle management from performing some operations on the leader index. This command exists to enable manually removing these retention leases on your follower cluster when the unfollow command was unable to do so.","path":"/commands/forget/"},{"title":"Info","sidebarTitle":"","description":"List the parameters and the status for follower indices on your follower cluster. For example, the results include follower index names, leader index names, replication options and whether the follower indices are active or paused.","path":"/commands/info/"},{"title":"Pause","sidebarTitle":"","description":"Pause a follower index on your follower cluster. After running this command, the follower index will not fetch any additional operations from the leader index. You can resume following by running \"duper follow [options]\". Pausing and resuming a follower index can be used to change the configuration of the following task.","path":"/commands/pause/"},{"title":"Resume","sidebarTitle":"","description":"Resume a follower index on your follower cluster that has been paused either explicitly with the duper pause command or implicitly due to execution that can not be retried due to failure during following. After running this command, the follower index will resume fetching operations from the leader index.","path":"/commands/resume/"},{"title":"Stats","sidebarTitle":"","description":"Get follower stats on your follower cluster.","path":"/commands/stats/"},{"title":"Stats","sidebarTitle":"","description":"Stop the following task associated with a follower index on your follower cluster and remove index metadata and settings associated with cross-cluster replication. This enables the index to be treated as a regular index. The follower index must be paused and closed before running the unfollow command.","path":"/commands/unfollow/"}]},{"title":"Auto-Follow CCR Commands","pages":[{"title":"Auto follow","sidebarTitle":"","description":"Create a new named collection of auto-follow patterns to follow on your leader cluster. Newly created indices on your leader cluster matching any of the specified patterns will be automatically configured as follower indices on your follower cluster","path":"/commands/auto-follow/"},{"title":"Delete Auto Follow","sidebarTitle":"","description":"Delete a configured collection of auto-follow patterns on your follower cluster","path":"/commands/delete-auto-follow/"},{"title":"Get Auto Follow","sidebarTitle":"","description":"Get configured auto-follow patterns on your follower cluster.","path":"/commands/get-auto-follow/"},{"title":"Pause Auto Follow","sidebarTitle":"","description":"Pause an auto-follow pattern on your follower cluster. When this command runs, the auto-follow pattern is inactive and ignores any new index created on your leader cluster that matches any of the auto-follow’s patterns. Paused auto-follow patterns appear with the active field set to false in the get-auto-follow command. You can resume auto-following with the resume-auto-follow command. Once resumed, the auto-follow pattern is active again and automatically configures follower indices for newly created indices on your leader cluster that match its patterns. Indices created on your leader cluster that match the auto-follow pattern while the pattern was paused will also be followed, unless they have been deleted or closed in the meantime.","path":"/commands/pause-auto-follow/"},{"title":"Resume Auto Follow","sidebarTitle":"","description":"Resume an auto-follow pattern on your follower cluster that has been paused with the pause-auto-follow command. When this command runs, the auto-follow pattern will resume configuring following indices for newly created indices on your leader cluster that match its patterns. Indices created on your leader cluster that match the auto-follow pattern while the pattern was paused will also be followed, unless they have been deleted or closed in the meantime.","path":"/commands/resume-auto-follow/"}]}],"githubUrl":"https://github.com/nylon22/duper/tree/master/source/getting-started.md","twitterHandle":"tyson_warner","versions":[],"defaultVersion":"0.4","baseUrl":"https://duper.github.io"}}}